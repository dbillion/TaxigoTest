{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\oluda\\\\Downloads\\\\Compressed\\\\mdn-css\\\\practise\\\\carousel\\\\fundex\\\\src\\\\ShopContext.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { createContext, useReducer, useContext } from 'react';\nimport shopReducer, { initialState } from './shopReducer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ShopContext = /*#__PURE__*/createContext(initialState);\nexport const ShopProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [state, dispatch] = useReducer(shopReducer, initialState);\n\n  const addToCart = product => {\n    const updatedCart = state.products.concat(product);\n    updatePrice(updatedCart);\n    dispatch({\n      type: 'ADD_TO_CART',\n      payload: {\n        products: updatedCart\n      }\n    });\n  };\n\n  const removeFromCart = product => {\n    const updatedCart = state.products.filter(currentProduct => currentProduct.name !== product.name);\n    updatePrice(updatedCart);\n    dispatch({\n      type: 'REMOVE_FROM_CART',\n      payload: {\n        products: updatedCart\n      }\n    });\n  };\n\n  const updatePrice = products => {\n    let total = 0;\n    products.forEach(product => total += product.price);\n    dispatch({\n      type: 'UPDATE_PRICE',\n      payload: {\n        total\n      }\n    });\n  };\n\n  const value = {\n    total: state.total,\n    products: state.products,\n    addToCart,\n    removeFromCart\n  };\n  return /*#__PURE__*/_jsxDEV(ShopContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 10\n  }, this);\n};\n\n_s(ShopProvider, \"6JWkGZ32UPfojeNx+xqn8ZU8A0Q=\");\n\n_c = ShopProvider;\n\nconst useShop = () => {\n  _s2();\n\n  const context = useContext(ShopContext);\n\n  if (context === undefined) {\n    throw new Error('useShop must be used within ShopContext');\n  }\n\n  return context;\n};\n\n_s2(useShop, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n\nexport default useShop;\n\nvar _c;\n\n$RefreshReg$(_c, \"ShopProvider\");","map":{"version":3,"sources":["C:/Users/oluda/Downloads/Compressed/mdn-css/practise/carousel/fundex/src/ShopContext.js"],"names":["createContext","useReducer","useContext","shopReducer","initialState","ShopContext","ShopProvider","children","state","dispatch","addToCart","product","updatedCart","products","concat","updatePrice","type","payload","removeFromCart","filter","currentProduct","name","total","forEach","price","value","useShop","context","undefined","Error"],"mappings":";;;;AAAA,SAASA,aAAT,EAAwBC,UAAxB,EAAoCC,UAApC,QAAsD,OAAtD;AACA,OAAOC,WAAP,IAAsBC,YAAtB,QAA0C,eAA1C;;AAEA,MAAMC,WAAW,gBAAGL,aAAa,CAACI,YAAD,CAAjC;AAEA,OAAO,MAAME,YAAY,GAAG,QAAkB;AAAA;;AAAA,MAAjB;AAAEC,IAAAA;AAAF,GAAiB;AAC5C,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBR,UAAU,CAACE,WAAD,EAAcC,YAAd,CAApC;;AAEA,QAAMM,SAAS,GAAIC,OAAD,IAAa;AAC7B,UAAMC,WAAW,GAAGJ,KAAK,CAACK,QAAN,CAAeC,MAAf,CAAsBH,OAAtB,CAApB;AACAI,IAAAA,WAAW,CAACH,WAAD,CAAX;AACAH,IAAAA,QAAQ,CAAC;AACPO,MAAAA,IAAI,EAAE,aADC;AAEPC,MAAAA,OAAO,EAAE;AACPJ,QAAAA,QAAQ,EAAED;AADH;AAFF,KAAD,CAAR;AAMD,GATD;;AAWA,QAAMM,cAAc,GAAIP,OAAD,IAAa;AAClC,UAAMC,WAAW,GAAGJ,KAAK,CAACK,QAAN,CAAeM,MAAf,CACjBC,cAAD,IAAoBA,cAAc,CAACC,IAAf,KAAwBV,OAAO,CAACU,IADlC,CAApB;AAGAN,IAAAA,WAAW,CAACH,WAAD,CAAX;AAEAH,IAAAA,QAAQ,CAAC;AACPO,MAAAA,IAAI,EAAE,kBADC;AAEPC,MAAAA,OAAO,EAAE;AACPJ,QAAAA,QAAQ,EAAED;AADH;AAFF,KAAD,CAAR;AAMD,GAZD;;AAcA,QAAMG,WAAW,GAAIF,QAAD,IAAc;AAChC,QAAIS,KAAK,GAAG,CAAZ;AACAT,IAAAA,QAAQ,CAACU,OAAT,CAAkBZ,OAAD,IAAcW,KAAK,IAAIX,OAAO,CAACa,KAAhD;AAEAf,IAAAA,QAAQ,CAAC;AACPO,MAAAA,IAAI,EAAE,cADC;AAEPC,MAAAA,OAAO,EAAE;AACPK,QAAAA;AADO;AAFF,KAAD,CAAR;AAMD,GAVD;;AAYA,QAAMG,KAAK,GAAG;AACZH,IAAAA,KAAK,EAAEd,KAAK,CAACc,KADD;AAEZT,IAAAA,QAAQ,EAAEL,KAAK,CAACK,QAFJ;AAGZH,IAAAA,SAHY;AAIZQ,IAAAA;AAJY,GAAd;AAMA,sBAAO,QAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAEO,KAA7B;AAAA,cAAqClB;AAArC;AAAA;AAAA;AAAA;AAAA,UAAP;AACD,CA/CM;;GAAMD,Y;;KAAAA,Y;;AAiDb,MAAMoB,OAAO,GAAG,MAAM;AAAA;;AACpB,QAAMC,OAAO,GAAGzB,UAAU,CAACG,WAAD,CAA1B;;AAEA,MAAIsB,OAAO,KAAKC,SAAhB,EAA2B;AACzB,UAAM,IAAIC,KAAJ,CAAU,yCAAV,CAAN;AACD;;AAED,SAAOF,OAAP;AACD,CARD;;IAAMD,O;;AAUN,eAAeA,OAAf","sourcesContent":["import { createContext, useReducer, useContext } from 'react';\r\nimport shopReducer, { initialState } from './shopReducer';\r\n\r\nconst ShopContext = createContext(initialState);\r\n\r\nexport const ShopProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(shopReducer, initialState);\r\n\r\n  const addToCart = (product) => {\r\n    const updatedCart = state.products.concat(product);\r\n    updatePrice(updatedCart);\r\n    dispatch({\r\n      type: 'ADD_TO_CART',\r\n      payload: {\r\n        products: updatedCart,\r\n      },\r\n    });\r\n  };\r\n\r\n  const removeFromCart = (product) => {\r\n    const updatedCart = state.products.filter(\r\n      (currentProduct) => currentProduct.name !== product.name\r\n    );\r\n    updatePrice(updatedCart);\r\n\r\n    dispatch({\r\n      type: 'REMOVE_FROM_CART',\r\n      payload: {\r\n        products: updatedCart,\r\n      },\r\n    });\r\n  };\r\n\r\n  const updatePrice = (products) => {\r\n    let total = 0;\r\n    products.forEach((product) => (total += product.price));\r\n\r\n    dispatch({\r\n      type: 'UPDATE_PRICE',\r\n      payload: {\r\n        total,\r\n      },\r\n    });\r\n  };\r\n\r\n  const value = {\r\n    total: state.total,\r\n    products: state.products,\r\n    addToCart,\r\n    removeFromCart,\r\n  };\r\n  return <ShopContext.Provider value={value}>{children}</ShopContext.Provider>;\r\n};\r\n\r\nconst useShop = () => {\r\n  const context = useContext(ShopContext);\r\n\r\n  if (context === undefined) {\r\n    throw new Error('useShop must be used within ShopContext');\r\n  }\r\n\r\n  return context;\r\n};\r\n\r\nexport default useShop;\r\n"]},"metadata":{},"sourceType":"module"}